const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate a Travel Plan for Location: Luxembourg, for 5 days 4 nights for Couple with a Moderate budget with Flight details, Flight Price with Booking URL, hotel options with hotel name, hotel address, price, hotel image, url, geo coordinates, rating, descriptions and places to visit nearby with placename, place details, place image URL, Geo Coordinates, ticket price, time to travel to each of the locations for 5 days 4 nights with each day plan with the best time to visit in JSON format.\n\nAlso fill this up for me below:\nchat_session = model.start_chat(fill this)"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"tripTitle\": \"Romantic Luxembourg Getaway: 5 Days & 4 Nights\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Moderate\",\n  \"dates\": \"Flexible - Example: October 15-19, 2024\",\n  \"estimatedTotalBudget\": \"€1400-€2000 (excluding flights)\",\n  \"flight\": {\n    \"exampleFlight\": {\n      \"from\": \"London (Any Airport)\",\n      \"to\": \"Luxembourg Airport (LUX)\",\n      \"airline\": \"Ryanair, Luxair, EasyJet\",\n      \"flight_price_per_person\": \"€100-€250 (roundtrip)\",\n      \"bookingURL\": \"https://www.skyscanner.com\",\n      \"notes\": \"Prices vary depending on time of booking and departure location. Check for deals in advance.\"\n    }\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Hotel Empire\",\n      \"hotelAddress\": \"34 Place de la Gare, 1616 Luxembourg\",\n      \"pricePerNight\": \"€120-€160\",\n      \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/45/ba/b1/hotel-empire.jpg?w=700&h=-1&s=1\",\n      \"url\": \"https://www.booking.com/hotel/lu/empireluxembourg.html\",\n      \"geoCoordinates\": { \"latitude\": 49.609502, \"longitude\": 6.126747 },\n      \"rating\": 4.2,\n      \"description\": \"Modern hotel near the train station, well connected to the city center.\",\n      \"notes\": \"Example - check booking sites for best rates.\"\n    },\n    {\n        \"hotelName\":\"Hotel Parc Plaza\",\n      \"hotelAddress\":\"5 Avenue de la Gare, 1611 Luxembourg\",\n      \"pricePerNight\": \"€130-€180\",\n      \"imageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/37/18/20/hotel-parc-plaza.jpg?w=700&h=-1&s=1\",\n      \"url\": \"https://www.booking.com/hotel/lu/parc-plaza.html\",\n      \"geoCoordinates\":{\"latitude\":49.609300, \"longitude\":6.129043},\n      \"rating\":4.3,\n       \"description\":\"Comfortable hotel with good amenities and convenient location.\",\n       \"notes\":\"Example - check booking sites for best rates\"\n      },\n    {\n      \"hotelName\": \"Novotel Luxembourg Centre\",\n      \"hotelAddress\": \"35 Rue du Laboratoire, 1911 Luxembourg\",\n      \"pricePerNight\": \"€140-€190\",\n      \"imageUrl\": \"https://media.hrs.com/media/image/25/35/a3/Novotel_Luxembourg_Centre-Luxembourg-Aussenansicht-15-199886.jpg\",\n      \"url\": \"https://www.accorhotels.com/gb/hotel-1901-novotel-luxembourg-centre/index.shtml\",\n      \"geoCoordinates\": { \"latitude\": 49.609001, \"longitude\": 6.125537 },\n      \"rating\": 4.0,\n      \"description\": \"Modern and stylish hotel with a central location and good amenities.\",\n      \"notes\":\"Example - check booking sites for best rates.\"\n    }\n  ],\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"theme\": \"Arrival & City Center Exploration\",\n      \"bestTimeToVisit\": \"Afternoon\",\n      \"activities\": [\n        {\n          \"time\": \"Afternoon\",\n          \"activity\": \"Arrive at Luxembourg Airport (LUX), transfer to hotel, check-in.\",\n          \"details\": \"Use bus route 16 or taxi. Check-in at your hotel in central Luxembourg.\"\n        },\n        {\n          \"time\": \"Late Afternoon\",\n          \"activity\": \"Explore the Old Town\",\n          \"details\": \"Stroll through Place Guillaume II, see the Grand Ducal Palace (exterior) and enjoy Place d'Armes.\",\n            \"placesToVisit\":[\n                {\n                  \"placeName\": \"Place Guillaume II\",\n                   \"placeDetails\": \"Central square with markets and events. Surrounded by historic buildings.\",\n                   \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/9/9b/Place_Guillaume_II%2C_Luxemburg%2C_2015.jpg\",\n                  \"geoCoordinates\": { \"latitude\": 49.814631, \"longitude\": 6.129693 },\n                    \"ticketPrice\": \"Free\",\n                   \"travelTimeFromHotel\": \"10-15 min walk or bus (depending on hotel)\"\n                },\n                 {\n                  \"placeName\":\"Grand Ducal Palace\",\n                   \"placeDetails\":\"Official residence of the Grand Duke. Beautiful facade.\",\n                     \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/a/a1/Luxemburg-Grand_Ducal_Palace-01_2011.JPG\",\n                     \"geoCoordinates\": { \"latitude\": 49.815523, \"longitude\": 6.130051 },\n                    \"ticketPrice\":\"Free (exterior)\",\n                     \"travelTimeFromHotel\":\"10-15 min walk or bus (depending on hotel)\"\n                   },\n                   {\n                     \"placeName\":\"Place d'Armes\",\n                      \"placeDetails\":\"Central square with cafes, popular for people watching\",\n                       \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/4/41/Luxembourg_City_Place_d%27Armes_2012-04-01.jpg\",\n                       \"geoCoordinates\":{\"latitude\":49.815778, \"longitude\":6.130641},\n                     \"ticketPrice\":\"Free\",\n                      \"travelTimeFromHotel\":\"10-15 min walk or bus (depending on hotel)\"\n                   }\n              ]\n        },\n        {\n          \"time\": \"Evening\",\n          \"activity\": \"Dinner in the city center\",\n          \"details\": \"Find a cozy restaurant in the pedestrian area or consider the Grund.\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"theme\": \"Historical Sites & City Views\",\n      \"bestTimeToVisit\": \"Morning & Afternoon\",\n      \"activities\": [\n        {\n          \"time\": \"Morning\",\n          \"activity\": \"Visit the Bock Casemates\",\n          \"details\": \"Explore the underground tunnels and enjoy the historical views.\",\n          \"placesToVisit\":[\n              {\n                  \"placeName\":\"Bock Casemates\",\n                   \"placeDetails\":\"Underground network of tunnels with strategic importance.\",\n                     \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/8/8d/Bock_Casemates_entrance.jpg\",\n                     \"geoCoordinates\":{\"latitude\":49.815662, \"longitude\":6.134515},\n                     \"ticketPrice\":\"€7\",\n                     \"travelTimeFromHotel\":\"15-20 min walk or bus (depending on hotel)\"\n                }\n            ]\n        },\n        {\n          \"time\": \"Afternoon\",\n          \"activity\": \"Explore the Grund District\",\n            \"details\":\"Descend to the lower town, wander along the Alzette river.\",\n            \"placesToVisit\":[\n              {\n                  \"placeName\":\"Grund District\",\n                   \"placeDetails\":\"Picturesque lower town, medieval feel, and good cafes.\",\n                    \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/2/2d/Luxembourg_-_Grund_2.jpg\",\n                   \"geoCoordinates\":{\"latitude\":49.813717, \"longitude\":6.131256},\n                   \"ticketPrice\":\"Free\",\n                   \"travelTimeFromHotel\":\"20-25 min walk or panoramic lift (depending on hotel)\"\n              }\n            ]\n        },\n          {\n          \"time\":\"Late Afternoon\",\n            \"activity\":\"Panoramic Elevator Ride\",\n              \"details\":\"Enjoy a free ride up to the city with scenic views.\",\n              \"placesToVisit\":[\n                {\n                     \"placeName\":\"Panoramic Elevator Pfaffenthal\",\n                      \"placeDetails\":\"Free elevator connecting the upper and lower towns, with great views.\",\n                       \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/2/24/Panoramic_Elevator_Pfaffenthal%2C_Luxembourg_City.jpg\",\n                     \"geoCoordinates\":{\"latitude\":49.815790, \"longitude\":6.135407},\n                      \"ticketPrice\":\"Free\",\n                       \"travelTimeFromHotel\":\"20-25 min walk or bus (depending on hotel)\"\n                  }\n               ]\n          },\n        {\n          \"time\": \"Evening\",\n          \"activity\": \"Dinner in the Grund\",\n          \"details\":\"Enjoy a romantic meal with a riverside view\"\n        }\n      ]\n    },\n     {\n       \"day\":3,\n       \"theme\":\"Museums and Art\",\n        \"bestTimeToVisit\":\"Morning and Afternoon\",\n       \"activities\":[\n         {\n           \"time\":\"Morning\",\n            \"activity\":\"Visit the Mudam Museum\",\n            \"details\":\"Explore modern and contemporary art at the Mudam museum.\",\n            \"placesToVisit\":[\n                {\n                     \"placeName\":\"Mudam (Musée d'Art Moderne Grand-Duc Jean)\",\n                     \"placeDetails\":\"Museum of modern and contemporary art, located in the Dräi Eechelen Park.\",\n                     \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/3/32/Museum_of_Modern_Art_Grand_Duke_Jean_%28Mudam%29.jpg\",\n                      \"geoCoordinates\":{\"latitude\":49.818744, \"longitude\":6.145906},\n                     \"ticketPrice\":\"€8\",\n                      \"travelTimeFromHotel\":\"20-30 min bus or tram (depending on hotel)\"\n                }\n              ]\n         },\n        {\n           \"time\":\"Afternoon\",\n            \"activity\":\"Explore the Villa Vauban or the National Museum of History and Art\",\n              \"details\":\"Visit one of the art museums, depending on your preference\",\n              \"placesToVisit\":[\n                  {\n                       \"placeName\":\"Villa Vauban\",\n                       \"placeDetails\":\"Art museum with historical and landscape paintings.\",\n                      \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/9/9f/Villa_Vauban%2C_Luxembourg_City.jpg\",\n                        \"geoCoordinates\":{\"latitude\":49.816028, \"longitude\":6.126209},\n                       \"ticketPrice\":\"€5 (Check for free days)\",\n                      \"travelTimeFromHotel\":\"10-15 min walk or bus (depending on hotel)\"\n                     },\n                  {\n                    \"placeName\":\"National Museum of History and Art\",\n                     \"placeDetails\":\"Showcases the history and art of Luxembourg from prehistoric times.\",\n                    \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/4/43/Mus%C3%A9e_National_d%27Histoire_et_d%27Art_Luxembourg_2015-07-21_02.jpg\",\n                      \"geoCoordinates\":{\"latitude\":49.814492, \"longitude\":6.132531},\n                      \"ticketPrice\":\"€7 (Check for free days)\",\n                      \"travelTimeFromHotel\":\"15-20 min walk or bus (depending on hotel)\"\n                   }\n              ]\n         },\n         {\n            \"time\":\"Late Afternoon\",\n            \"activity\":\"Relax at a cafe or park\",\n            \"details\":\"Enjoy a break at a local cafe or park\"\n         },\n         {\n           \"time\":\"Evening\",\n            \"activity\":\"Enjoy dinner near your hotel\",\n             \"details\":\"Explore restaurants in your hotel area.\"\n         }\n       ]\n     },\n    {\n      \"day\": 4,\n      \"theme\": \"Day Trip to Vianden Castle\",\n       \"bestTimeToVisit\": \"Morning and Afternoon\",\n      \"activities\": [\n          {\n              \"time\": \"Morning\",\n              \"activity\": \"Travel to Vianden\",\n              \"details\": \"Take a scenic bus or train ride to Vianden, a charming town with a castle.\",\n               \"placesToVisit\":[\n                 {\n                       \"placeName\":\"Vianden Castle\",\n                       \"placeDetails\":\"Impressive medieval castle, one of Luxembourg's most famous sites.\",\n                        \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/1/18/Vianden_Castle_2011.jpg\",\n                        \"geoCoordinates\":{\"latitude\":49.938387, \"longitude\":6.204850},\n                        \"ticketPrice\":\"€10\",\n                      \"travelTimeFromHotel\":\"Around 1 hour 30 minutes by public transport.\"\n                     }\n                ]\n            },\n        {\n          \"time\": \"Afternoon\",\n          \"activity\": \"Explore Vianden Town & Castle\",\n          \"details\": \"Visit Vianden Castle, walk along the river, and enjoy the views.\",\n            \"placesToVisit\":[\n                 {\n                   \"placeName\":\"Vianden Town\",\n                   \"placeDetails\":\"Charming town with restaurants, shops, and scenic walks.\",\n                   \"imageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/0/0b/Vianden_from_castle%2C_Luxembourg.jpg\",\n                   \"geoCoordinates\":{\"latitude\":49.937412, \"longitude\":6.202996},\n                  \"ticketPrice\":\"Free (town)\",\n                    \"travelTimeFromHotel\":\"Around 1 hour 30 minutes by public transport.\"\n                }\n              ]\n        },\n        {\n          \"time\": \"Late Afternoon\",\n          \"activity\": \"Return to Luxembourg City\",\n            \"details\":\"Travel back to Luxembourg by public transport.\"\n        },\n        {\n          \"time\": \"Evening\",\n          \"activity\": \"Farewell dinner in Luxembourg\",\n            \"details\":\"Enjoy a final meal in Luxembourg City\"\n        }\n      ]\n    },\n    {\n      \"day\": 5,\n      \"theme\": \"Departure\",\n      \"bestTimeToVisit\": \"Morning\",\n      \"activities\": [\n        {\n          \"time\": \"Morning\",\n          \"activity\": \"Breakfast & Check-out\",\n            \"details\":\"Enjoy your final Luxembourgish breakfast.\"\n        },\n        {\n          \"time\": \"Mid-morning\",\n          \"activity\": \"Transfer to Luxembourg Airport (LUX)\",\n            \"details\":\"Head to the airport using bus route 16 or taxi.\"\n        },\n        {\n          \"time\": \"Departure\",\n          \"activity\": \"Depart from Luxembourg Airport (LUX)\",\n            \"details\":\"Safe travels!\"\n        }\n      ]\n    }\n  ]\n}\n```\n"},
        ],
      },
    ],
  });

  // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
  // console.log(result.response.text());
